<div class="add-border-bottom">
    <div class="container">
        <vendor-navbar [activeLink]="link"></vendor-navbar>
    </div>    
</div>

<div class="material-design-bg-color">
    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <section id="wrapper" class="step-register">
                    <div class="register-box">
                        <div>
                            <!-- multistep form -->
                            <form id="msform" [formGroup]="forms" (ngSubmit)="registerVendor()">
                                <!-- progressbar -->
                                <ul id="eliteregister">
                                    <li class="active">Account Setup</li>
                                    <li>Vendor Information</li>
                                    <li>Business Information</li>
                                    <li>Bank Information</li>
                                </ul>

                                <!-- fieldsets -->
                                <fieldset class="active first-fieldset" formGroupName="first">
                                    <h2 class="fs-title">Basic Information</h2>

                                    <div class="m-t-40 m-b-30">
                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">First Name<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.firstName')">
                                                    <input type="text" class="form-control" formControlName="firstName"  [patterns]="alphanumeric" mask="0*">
                                                    <div *ngIf="forms.get('first').get('firstName').touched && !forms.get('first').get('firstName').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('firstName').hasError('required') ">  
                                                            First name is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Last Name<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.lastName')">
                                                    <input type="text" class="form-control" formControlName="lastName"  [patterns]="alphanumeric" mask="0*">
                                                    <div *ngIf="forms.get('first').get('lastName').touched && !forms.get('first').get('lastName').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('lastName').hasError('required') ">  
                                                            Last name is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Phone Number<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.phoneNumber')">
                                                    <input type="text" mask="000-000-0000" prefix="(+63) " [showMaskTyped] = "true" class="form-control" formControlName="phoneNumber">
                                                    <div *ngIf="forms.get('first').get('phoneNumber').touched && !forms.get('first').get('phoneNumber').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('phoneNumber').hasError('required') ">  
                                                            Phone number is required  
                                                        </small>  
                                                        <small class="error-information" *ngIf="forms.get('first').get('phoneNumber').hasError('minlength') ">  
                                                            Invalid phone number is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>  
                                        
                                        <hr />
                                        
                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Barangay<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.barangay')">
                                                    <input type="text" class="form-control" formControlName="barangay" [patterns]="alphanumeric" mask="0*">
                                                    <div *ngIf="forms.get('first').get('barangay').touched && !forms.get('first').get('barangay').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('barangay').hasError('required') ">  
                                                            Barangay is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">City<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.city')">
                                                    <input type="text" class="form-control" formControlName="city" [patterns]="alphanumeric" mask="0*">
                                                    <div *ngIf="forms.get('first').get('city').touched && !forms.get('first').get('city').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('city').hasError('required') ">  
                                                            City is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Region<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.region')">
                                                    <input type="text" class="form-control" formControlName="region" [patterns]="alphanumeric" mask="0*">
                                                    <div *ngIf="forms.get('first').get('region').touched && !forms.get('first').get('region').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('region').hasError('required') ">  
                                                            Region is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <hr />
                                        <h2 class="fs-title">Account Credentials</h2>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Email Address<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.emailAddress')">
                                                    <input type="email" class="form-control" formControlName="emailAddress">
                                                    <div *ngIf="forms.get('first').get('emailAddress').touched && !forms.get('first').get('emailAddress').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('emailAddress').hasError('required') ">  
                                                            Email address is required  
                                                        </small>  
                                                        <small class="error-information" *ngIf="forms.get('first').get('emailAddress').hasError('email') ">  
                                                            It is not a valid email address
                                                        </small>
                                                        <small class="error-information" *ngIf="forms.get('first').get('emailAddress').hasError('emailAddressInUse') ">  
                                                            Email already exists. Please input a unique one.
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Password<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('first.password')">
                                                    <input type="password" class="form-control" formControlName="password">
                                                    <div *ngIf="forms.get('first').get('password').touched && !forms.get('first').get('password').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('password').hasError('required') ">  
                                                            Password is required  
                                                        </small>  
                                                        <small class="error-information" *ngIf="forms.get('first').get('password').hasError('minlength') ">  
                                                            Password must be at least 6 characters long
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Confirm Password<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="samePassword()">
                                                    <input type="password" class="form-control" formControlName="confirmPassword">
                                                    <div *ngIf="forms.get('first').get('confirmPassword').touched && !forms.get('first').get('confirmPassword').valid">  
                                                        <small class="error-information" *ngIf="forms.get('first').get('confirmPassword').hasError('required') ">  
                                                            Confirming the password is required  
                                                        </small>  
                                                    </div>  

                                                    <small class="error-information" *ngIf="forms.get('first').get('confirmPassword').touched && forms.get('first').get('confirmPassword').value != forms.get('first').get('password').value">  
                                                        Passwords does not match
                                                    </small>  
                                                </div>
                                            </div>                                    
                                            <small></small>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4 col-xs-12"></div>
                                            <div class="col-md-8 col-xs-12">
                                                <div class="password-requirements">
                                                    <p class="password-requirement-title">Requirements:</p>
                                                    <span class="password-item"><i class="fas fa-info-circle"></i> Password length must be atleast 6 characters long</span>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>

                                    <input type="button" name="next" class="next action-button" value="Next" (click)="next($event, 'first')" />
                                </fieldset>

                                <fieldset class="second-fieldset" formGroupName="second">
                                    <h2 class="fs-title">Vendor Information</h2>
                                    
                                    <div class="m-t-40 m-b-30">
                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">ID Number<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group has-error" [ngClass]="displayFieldCss('second.idNumber')">
                                                    <input type="text" class="form-control" formControlName="idNumber">
                                                    <div *ngIf="forms.get('second').get('idNumber').touched && !forms.get('second').get('idNumber').valid">  
                                                        <small class="error-information" *ngIf="forms.get('second').get('idNumber').hasError('required') ">  
                                                            ID Number is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Name on ID<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group has-error" [ngClass]="displayFieldCss('second.idName')">
                                                    <input type="text" class="form-control" formControlName="idName">
                                                    <div *ngIf="forms.get('second').get('idName').touched && !forms.get('second').get('idName').valid">  
                                                        <small class="error-information" *ngIf="forms.get('second').get('idName').hasError('required') ">  
                                                            Name on ID is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">ID Type<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group has-error" [ngClass]="displayFieldCss('second.idType')">
                                                    <input type="text" class="form-control" formControlName="idType">
                                                    <div *ngIf="forms.get('second').get('idType').touched && !forms.get('second').get('idType').valid">  
                                                        <small class="error-information" *ngIf="forms.get('second').get('idType').hasError('required') ">  
                                                            ID Type is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Upload ID - Front Side<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group">
                                                    <div class="dropzone dropzone-container" [dropzone]="configFront"
                                                        (addedFile)="addedFile($event, 0)" (error)="onUploadError($event)" (success)="onUploadSuccess($event)"></div>
                                                        <small class="error-information" *ngIf="idFrontError">  
                                                            Please upload a photo of the front side of your valid ID
                                                        </small>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Upload ID - Back Side<span class="required">*</span></span>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="form-group">
                                                    <div class="dropzone dropzone-container" [dropzone]="configBack"
                                                    (addedFile)="addedFile($event, 1)" (error)="onUploadError($event)" (success)="onUploadSuccess($event)"></div>
                                                    <small class="error-information" *ngIf="idBackError">  
                                                        Please upload a photo of the back side of your valid ID
                                                    </small>  
                                                </div>
                                            </div>                                    
                                        </div>
                                    </div>

                                    <input type="button" name="previous" class="previous action-button" value="Previous" />
                                    <input type="button" name="next" class="next action-button" value="Next" (click)="next($event, 'second')" />
                                </fieldset>

                                <fieldset class="third-fieldset" formGroupName="third">
                                    <h2 class="fs-title">Business Information</h2>
                                    
                                    <div class="m-t-40 m-b-30">
                                        <div class="row m-b-10">
                                            <div class="col-md-4"><span class="form-label">Account Type<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="vat-registered-container" [ngClass]="displayFieldCss('third.accountType')">
                                                    <div class="m-t-5">
                                                        <input class="magic-radio" type="radio" value="0" id="individual" name="accountType" formControlName="accountType">
                                                        <label for="individual">Individual</label>
                                                    </div>
        
                                                    <div class="m-t-5">
                                                        <input class="magic-radio" type="radio" value="1" id="corporate" name="accountType" formControlName="accountType">
                                                        <label for="corporate">Corporate</label>
                                                        <div *ngIf="forms.get('third').get('accountType').touched && !forms.get('third').get('accountType').valid">  
                                                            <small class="error-information" *ngIf="forms.get('third').get('accountType').hasError('required') ">  
                                                                Account Type is required  
                                                            </small>  
                                                        </div>  
                                                    </div>
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Legal Name/Company Name</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.legalCompanyName')">
                                                    <input type="text" class="form-control" formControlName="legalCompanyName">
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Address<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.address')">
                                                    <input type="text" class="form-control" formControlName="address">
                                                    <div *ngIf="forms.get('third').get('address').touched && !forms.get('third').get('address').valid">  
                                                        <small class="error-information" *ngIf="forms.get('third').get('address').hasError('required') ">  
                                                            Address is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Country<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.country')">
                                                    <select class="form-control" formControlName="country">
                                                        <option selected>Philippines</option>
                                                        <option>China</option>
                                                        <option>Japan</option>
                                                    </select>
                                                    <div *ngIf="forms.get('third').get('country').touched && !forms.get('third').get('country').valid">  
                                                        <small class="error-information" *ngIf="forms.get('third').get('country').hasError('required') ">  
                                                            Country is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Postal Code<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.postalCode')">
                                                    <input type="text" class="form-control" formControlName="postalCode" mask="0*">
                                                    <div *ngIf="forms.get('third').get('postalCode').touched && !forms.get('third').get('postalCode').valid">  
                                                        <small class="error-information" *ngIf="forms.get('third').get('postalCode').hasError('required') ">  
                                                            Postal code is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Person in Charge</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.personInCharge')">
                                                    <input type="text" class="form-control" formControlName="personInCharge">
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Business Registration No.</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.businessRegistration')">
                                                    <input type="text" class="form-control" formControlName="businessRegistration">
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Seller VAT</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('third.sellerVat')">
                                                    <input type="text" class="form-control" formControlName="sellerVat">
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">VAT Registered</span></div>
                                            <div class="col-md-8">
                                                <div class="vat-registered-container">
                                                    <div>
                                                        <input class="magic-radio" type="radio" id="yes" value="1" name="vatRegistered" formControlName="vatRegistered">
                                                        <label for="yes">Yes</label>
                                                    </div>
        
                                                    <div>
                                                        <input class="magic-radio" type="radio" id="no" value="0" name="vatRegistered" formControlName="vatRegistered">
                                                        <label for="no">No</label>
                                                    </div>
                                                </div>
                                            </div>                                    
                                        </div>
                                    </div>

                                    <input type="button" name="previous" class="previous action-button" value="Previous" />
                                    <input type="button" name="next" class="next action-button" value="Next" (click)="next($event, 'third')" />
                                </fieldset>

                                <fieldset class="fourth-fieldset" formGroupName="fourth">
                                    <h2 class="fs-title">Bank Account Information</h2>
                                    
                                    <div class="m-t-40 m-b-30">
                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Account Name<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.accountName')">
                                                    <input type="text" class="form-control" formControlName="accountName">
                                                    <div *ngIf="forms.get('fourth').get('accountName').touched && !forms.get('fourth').get('accountName').valid">  
                                                        <small class="error-information" *ngIf="forms.get('fourth').get('accountName').hasError('required') ">  
                                                            Account name is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Account Number<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.accountNumber')">
                                                    <input type="text" class="form-control" formControlName="accountNumber">
                                                    <div *ngIf="forms.get('fourth').get('accountNumber').touched && !forms.get('fourth').get('accountNumber').valid">  
                                                        <small class="error-information" *ngIf="forms.get('fourth').get('accountNumber').hasError('required') ">  
                                                            Account number is required  
                                                        </small>  
                                                    </div>  
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Bank Name<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.bankName')">
                                                    <input type="text" class="form-control" formControlName="bankName">
                                                    <div *ngIf="forms.get('fourth').get('bankName').touched && !forms.get('fourth').get('bankName').valid">  
                                                        <small class="error-information" *ngIf="forms.get('fourth').get('bankName').hasError('required') ">  
                                                            Bank name is required  
                                                        </small>  
                                                    </div>                            
                                                </div>
                                            </div>          
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Branch Name</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.branchName')">
                                                    <input type="text" class="form-control" formControlName="branchName">
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Bank Code<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.bankCode')">
                                                    <input type="text" class="form-control" formControlName="bankCode">
                                                    <div *ngIf="forms.get('fourth').get('bankCode').touched && !forms.get('fourth').get('bankCode').valid">  
                                                        <small class="error-information" *ngIf="forms.get('fourth').get('bankCode').hasError('required') ">  
                                                            Bank code is required  
                                                        </small>  
                                                    </div>     
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">SWIFT<span class="required">*</span></span></div>
                                            <div class="col-md-8">
                                                <div class="form-group" [ngClass]="displayFieldCss('fourth.swift')">
                                                    <input type="text" class="form-control" formControlName="swift">
                                                    <div *ngIf="forms.get('fourth').get('swift').touched && !forms.get('fourth').get('swift').valid">  
                                                        <small class="error-information" *ngIf="forms.get('fourth').get('swift').hasError('required') ">  
                                                            Swift is required  
                                                        </small>  
                                                    </div>    
                                                </div>
                                            </div>                                    
                                        </div>

                                        <div class="row">
                                            <div class="col-md-4"><span class="form-label">Bank Information Document</span></div>
                                            <div class="col-md-8">
                                                <div class="form-group">
                                                    <div class="dropzone dropzone-container" [dropzone]="config"
                                                    (error)="onUploadError($event)" (success)="onUploadSuccess($event)" (addedFile)="addedFileDocuments($event)"></div>
                                                    <button class="btn p-5 m-t-5 m-b-5 btn-reset-documents" (click)="resetDocumentsDropzone()">RESET FILES</button>
                                                    <small class="help-block m-t-10">Allows image, PDF and MS word files</small>
                                                    <small class="error-information" *ngIf="documentsError">  
                                                        Please upload a file/s of your bank information
                                                    </small>  
                                                </div>
                                            </div>                                    
                                        </div>
                                    </div>

                                    <input type="button" name="previous" class="previous action-button" value="Previous" />
                                    <input type="submit" name="submit" class="submit action-button" value="Submit"/>
                                </fieldset>
                            </form>

                            <div class="clear"></div>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </div>
</div>

<vendor-footer></vendor-footer>
